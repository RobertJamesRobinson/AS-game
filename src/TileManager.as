package
{
	import flash.display.Bitmap;
	
	public class TileManager
	{
		[Embed(source=".\\Tiles\\0.jpg")]
   		protected var Graphic0:Class;
		protected var G0:Bitmap = new Graphic0();
		
		[Embed(source=".\\Tiles\\1.jpg")]
   		protected var Graphic1:Class;
		protected var G1:Bitmap = new Graphic1();
		
		[Embed(source=".\\Tiles\\2.jpg")]
   		protected var Graphic2:Class;
		protected var G2:Bitmap = new Graphic2();
		
		[Embed(source=".\\Tiles\\3.jpg")]
   		protected var Graphic3:Class;
		protected var G3:Bitmap = new Graphic3();
		
		[Embed(source=".\\Tiles\\4.jpg")]
   		protected var Graphic4:Class;
		protected var G4:Bitmap = new Graphic4();
		
		[Embed(source=".\\Tiles\\5.jpg")]
   		protected var Graphic5:Class;
		protected var G5:Bitmap = new Graphic5();
		
		[Embed(source=".\\Tiles\\6.jpg")]
   		protected var Graphic6:Class;
		protected var G6:Bitmap = new Graphic6();
		
		[Embed(source=".\\Tiles\\7.jpg")]
   		protected var Graphic7:Class;
		protected var G7:Bitmap = new Graphic7();
		
		[Embed(source=".\\Tiles\\8.jpg")]
   		protected var Graphic8:Class;
		protected var G8:Bitmap = new Graphic8();
		
		[Embed(source=".\\Tiles\\9.jpg")]
   		protected var Graphic9:Class;
		protected var G9:Bitmap = new Graphic9();
		
		[Embed(source=".\\Tiles\\10.jpg")]
   		protected var Graphic10:Class;
		protected var G10:Bitmap = new Graphic10();
		
		[Embed(source=".\\Tiles\\11.jpg")]
   		protected var Graphic11:Class;
		protected var G11:Bitmap = new Graphic11();
		
		[Embed(source=".\\Tiles\\12.jpg")]
   		protected var Graphic12:Class;
		protected var G12:Bitmap = new Graphic12();
		
		[Embed(source=".\\Tiles\\13.jpg")]
   		protected var Graphic13:Class;
		protected var G13:Bitmap = new Graphic13();
		
		[Embed(source=".\\Tiles\\14.jpg")]
   		protected var Graphic14:Class;
		protected var G14:Bitmap = new Graphic14();
		
		[Embed(source=".\\Tiles\\15.jpg")]
   		protected var Graphic15:Class;
		protected var G15:Bitmap = new Graphic15();
		
		[Embed(source=".\\Tiles\\16.jpg")]
   		protected var Graphic16:Class;
		protected var G16:Bitmap = new Graphic16();
		
		[Embed(source=".\\Tiles\\17.jpg")]
   		protected var Graphic17:Class;
		protected var G17:Bitmap = new Graphic17();
		
		[Embed(source=".\\Tiles\\18.jpg")]
   		protected var Graphic18:Class;
		protected var G18:Bitmap = new Graphic18();
		
		[Embed(source=".\\Tiles\\19.jpg")]
   		protected var Graphic19:Class;
		protected var G19:Bitmap = new Graphic19();
		
		[Embed(source=".\\Tiles\\20.jpg")]
   		protected var Graphic20:Class;
		protected var G20:Bitmap = new Graphic20();
		
		[Embed(source=".\\Tiles\\21.jpg")]
   		protected var Graphic21:Class;
		protected var G21:Bitmap = new Graphic21();
		
		[Embed(source=".\\Tiles\\22.jpg")]
   		protected var Graphic22:Class;
		protected var G22:Bitmap = new Graphic22();
		
		[Embed(source=".\\Tiles\\23.jpg")]
   		protected var Graphic23:Class;
		protected var G23:Bitmap = new Graphic23();
		
		[Embed(source=".\\Tiles\\24.jpg")]
   		protected var Graphic24:Class;
		protected var G24:Bitmap = new Graphic24();
		
		[Embed(source=".\\Tiles\\25.jpg")]
   		protected var Graphic25:Class;
		protected var G25:Bitmap = new Graphic25();
		
		[Embed(source=".\\Tiles\\26.jpg")]
   		protected var Graphic26:Class;
		protected var G26:Bitmap = new Graphic26();
		
		[Embed(source=".\\Tiles\\27.jpg")]
   		protected var Graphic27:Class;
		protected var G27:Bitmap = new Graphic27();
		
		[Embed(source=".\\Tiles\\28.jpg")]
   		protected var Graphic28:Class;
		protected var G28:Bitmap = new Graphic28();
		
		[Embed(source=".\\Tiles\\29.jpg")]
   		protected var Graphic29:Class;
		protected var G29:Bitmap = new Graphic29();
		
		[Embed(source=".\\Tiles\\30.jpg")]
   		protected var Graphic30:Class;
		protected var G30:Bitmap = new Graphic30();
		
		[Embed(source=".\\Tiles\\31.jpg")]
   		protected var Graphic31:Class;
		protected var G31:Bitmap = new Graphic31();
		
		[Embed(source=".\\Tiles\\32.jpg")]
   		protected var Graphic32:Class;
		protected var G32:Bitmap = new Graphic32();
		
		[Embed(source=".\\Tiles\\33.jpg")]
   		protected var Graphic33:Class;
		protected var G33:Bitmap = new Graphic33();
		
		[Embed(source=".\\Tiles\\34.jpg")]
   		protected var Graphic34:Class;
		protected var G34:Bitmap = new Graphic34();
		
		[Embed(source=".\\Tiles\\35.jpg")]
   		protected var Graphic35:Class;
		protected var G35:Bitmap = new Graphic35();
		
		[Embed(source=".\\Tiles\\36.jpg")]
   		protected var Graphic36:Class;
		protected var G36:Bitmap = new Graphic36();
		
		[Embed(source=".\\Tiles\\37.jpg")]
   		protected var Graphic37:Class;
		protected var G37:Bitmap = new Graphic37();
		
		[Embed(source=".\\Tiles\\38.jpg")]
   		protected var Graphic38:Class;
		protected var G38:Bitmap = new Graphic38();
		
		[Embed(source=".\\Tiles\\39.jpg")]
   		protected var Graphic39:Class;
		protected var G39:Bitmap = new Graphic39();
		
		[Embed(source=".\\Tiles\\40.jpg")]
   		protected var Graphic40:Class;
		protected var G40:Bitmap = new Graphic40();
		
		[Embed(source=".\\Tiles\\41.jpg")]
   		protected var Graphic41:Class;
		protected var G41:Bitmap = new Graphic41();
		
		[Embed(source=".\\Tiles\\42.jpg")]
   		protected var Graphic42:Class;
		protected var G42:Bitmap = new Graphic42();
		
		[Embed(source=".\\Tiles\\43.jpg")]
   		protected var Graphic43:Class;
		protected var G43:Bitmap = new Graphic43();
		
		[Embed(source=".\\Tiles\\44.jpg")]
   		protected var Graphic44:Class;
		protected var G44:Bitmap = new Graphic44();
		
		[Embed(source=".\\Tiles\\45.jpg")]
   		protected var Graphic45:Class;
		protected var G45:Bitmap = new Graphic45();
		
		[Embed(source=".\\Tiles\\46.jpg")]
   		protected var Graphic46:Class;
		protected var G46:Bitmap = new Graphic46();
		
		[Embed(source=".\\Tiles\\47.jpg")]
   		protected var Graphic47:Class;
		protected var G47:Bitmap = new Graphic47();
		
		[Embed(source=".\\Tiles\\48.jpg")]
   		protected var Graphic48:Class;
		protected var G48:Bitmap = new Graphic48();
		
		[Embed(source=".\\Tiles\\49.jpg")]
   		protected var Graphic49:Class;
		protected var G49:Bitmap = new Graphic49();
		
		[Embed(source=".\\Tiles\\50.jpg")]
   		protected var Graphic50:Class;
		protected var G50:Bitmap = new Graphic50();
		
		[Embed(source=".\\Tiles\\51.jpg")]
   		protected var Graphic51:Class;
		protected var G51:Bitmap = new Graphic51();
		
		[Embed(source=".\\Tiles\\52.jpg")]
   		protected var Graphic52:Class;
		protected var G52:Bitmap = new Graphic52();
		
		[Embed(source=".\\Tiles\\53.jpg")]
   		protected var Graphic53:Class;
		protected var G53:Bitmap = new Graphic53();
		
		[Embed(source=".\\Tiles\\54.jpg")]
   		protected var Graphic54:Class;
		protected var G54:Bitmap = new Graphic54();
		
		[Embed(source=".\\Tiles\\55.jpg")]
   		protected var Graphic55:Class;
		protected var G55:Bitmap = new Graphic55();
		
		[Embed(source=".\\Tiles\\56.jpg")]
   		protected var Graphic56:Class;
		protected var G56:Bitmap = new Graphic56();
		
		[Embed(source=".\\Tiles\\57.jpg")]
   		protected var Graphic57:Class;
		protected var G57:Bitmap = new Graphic57();
		
		[Embed(source=".\\Tiles\\58.jpg")]
   		protected var Graphic58:Class;
		protected var G58:Bitmap = new Graphic58();
		
		[Embed(source=".\\Tiles\\59.jpg")]
   		protected var Graphic59:Class;
		protected var G59:Bitmap = new Graphic59();
		
		[Embed(source=".\\Tiles\\60.jpg")]
   		protected var Graphic60:Class;
		protected var G60:Bitmap = new Graphic60();
		
		[Embed(source=".\\Tiles\\61.jpg")]
   		protected var Graphic61:Class;
		protected var G61:Bitmap = new Graphic61();
		
		[Embed(source=".\\Tiles\\62.jpg")]
   		protected var Graphic62:Class;
		protected var G62:Bitmap = new Graphic62();
		
		[Embed(source=".\\Tiles\\63.jpg")]
   		protected var Graphic63:Class;
		protected var G63:Bitmap = new Graphic63();
		
		[Embed(source=".\\Tiles\\64.jpg")]
   		protected var Graphic64:Class;
		protected var G64:Bitmap = new Graphic64();
		
		[Embed(source=".\\Tiles\\65.jpg")]
   		protected var Graphic65:Class;
		protected var G65:Bitmap = new Graphic65();
		
		[Embed(source=".\\Tiles\\66.jpg")]
   		protected var Graphic66:Class;
		protected var G66:Bitmap = new Graphic66();
		
		[Embed(source=".\\Tiles\\67.jpg")]
   		protected var Graphic67:Class;
		protected var G67:Bitmap = new Graphic67();
		
		[Embed(source=".\\Tiles\\ob.jpg")]
   		protected var GraphicOb:Class;
		protected var OBG:Bitmap = new GraphicOb();
		
		//[Embed(source=".\\Tiles\\15.png")]
   		//protected var Graphic15:Class;
		//protected var G15:Bitmap = new Graphic15();		//to add more tiles, just follow and continue with the previous segments to add more
		
		protected var map:Array;
		protected var tiles:Array;
		protected var numOfTiles:int=68;		//if you add more tiles update this
		
		protected var mapWidth:int;
		protected var mapHeight:int;
		
		protected var tileHeight:int=100;
		protected var tileWidth:int=100;
		
		//constructor, sets the size of the tiles and fills the tiles array which stores all the tile bitmaps
		public function TileManager(tileSize:int)
		{
			tileHeight=tileSize;
			tileWidth=tileSize;
			tiles=new Array(numOfTiles);
			insertEmbededTiles();
		}
		public function getNumTiles():int
		{
			return numOfTiles;
		}
		//enters the embeded tile graphics into the tiles array, if you add more tiles, update this section 
		private function insertEmbededTiles():void
		{
			tiles[0]=G0;
			tiles[1]=G1;
			tiles[2]=G2;
			tiles[3]=G3;
			tiles[4]=G4;
			tiles[5]=G5;
			tiles[6]=G6;
			tiles[7]=G7;
			tiles[8]=G8;
			tiles[9]=G9;
			tiles[10]=G10;
			tiles[11]=G11;
			tiles[12]=G12;
			tiles[13]=G13;
			tiles[14]=G14;
			tiles[15]=G15;
			tiles[16]=G16;
			tiles[17]=G17;
			tiles[18]=G18;
			tiles[19]=G19;
			tiles[20]=G20;
			tiles[21]=G21;
			tiles[22]=G22;
			tiles[23]=G23;
			tiles[24]=G24;
			tiles[25]=G25;
			tiles[26]=G26;
			tiles[27]=G27;
			tiles[28]=G28;
			tiles[29]=G29;
			tiles[30]=G30;
			tiles[31]=G31;
			tiles[32]=G32;
			tiles[33]=G33;
			tiles[34]=G34;
			tiles[35]=G35;
			tiles[36]=G36;
			tiles[37]=G37;
			tiles[38]=G38;
			tiles[39]=G39;
			tiles[40]=G40;
			tiles[41]=G41;
			tiles[42]=G42;
			tiles[43]=G43;
			tiles[44]=G44;
			tiles[45]=G45;
			tiles[46]=G46;
			tiles[47]=G47;
			tiles[48]=G48;
			tiles[49]=G49;
			tiles[50]=G50;
			tiles[51]=G51;
			tiles[52]=G52;
			tiles[53]=G53;
			tiles[54]=G54;
			tiles[55]=G55;
			tiles[56]=G56;
			tiles[57]=G57;
			tiles[58]=G58;
			tiles[59]=G59;
			tiles[60]=G60;
			tiles[61]=G61;
			tiles[62]=G62;
			tiles[63]=G63;
			tiles[64]=G64;
			tiles[65]=G65;
			tiles[66]=G66;
			tiles[67]=G67;
		}
		public function createEmptyMap():void
		{
			map=new Array(mapWidth);
			var temp:int=0;
			var x:int;
			var y:int;
			
			for(x=0; x<mapWidth; x++)
			{
				map[x]=new Array(mapHeight);
			}
		}
		
		//instantiates and fills the map array with index values (between 0 and numOfTiles-1)
		public function createRandomMap():void
		{
			map=new Array(mapWidth);
			var temp:int=0;
			var x:int;
			var y:int;
			
			for(x=0; x<mapWidth; x++)
			{
				map[x]=new Array(mapHeight);
			}
			
			for(x=0; x<mapWidth; x++)
			{
				for(y=0; y<mapHeight; y++)
				{
					temp=Math.round(Math.random()*(numOfTiles-1));
					map[x][y]=temp;
				}
			}
		}
		
		//reutns the bitmap of the tile at map location x,y
		public function returnTileGraphicAt(x:int, y:int):Bitmap
		{
			var newTile:Bitmap;
			
			if(x<mapWidth&&y<mapHeight)
			{
				newTile=new Bitmap(tiles[returnTileIndexAt(x,y)].bitmapData);
			}
			else
			{
				newTile=new Bitmap(OBG.bitmapData);
			}
			return newTile;
		}
		
		public function returnTileGraphicNumber(num:int):Bitmap
		{
			var newTile:Bitmap;
			if(num<numOfTiles)
			{
				newTile=new Bitmap(tiles[num].bitmapData);
			}
			else
			{
				newTile=new Bitmap();
			}
			return newTile;
		}
		//inserts a line (common y) of map data into the map array
		public function insertLine(line:int, data:Array):void
		{
			for(var i:int=0; i<mapWidth; i++)
			{
				map[i][line]=data[i];
			}
		}
		
		//inserts 1 value into the map array
		public function insertValue(x:int,y:int,value:int):void
		{
			if(x<mapWidth&&y<mapHeight)
				map[x][y]=value;	
		}
		
		//returns the width of the whole map in pixels
		public function getMapGraphicWidth():int
		{
			return mapWidth*tileWidth;
		}
		
		//returns the height of the whole map in pixels
		public function getMapGraphicHeight():int
		{
			return mapHeight*tileHeight;
		}
		
		//returns the tile index number at map location x,y (not the array index, the tile graphic index)
		public function returnTileIndexAt(x:int, y:int):int
		{
			return map[x][y];
		}
		
		//sets the size of the map in units
		public function setXYDimensions(x:int, y:int):void
		{
			mapWidth=x;
			mapHeight=y;
		}
		
		//returns the width of the whole map in units
		public function getMapWidthUnits():int
		{
			return mapWidth;
		}
		
		//returns the height of the whole map in units
		public function getMapHeightUnits():int
		{
			return mapHeight;
		}
	}
}